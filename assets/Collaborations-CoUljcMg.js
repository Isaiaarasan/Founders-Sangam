import{r as s,b as g,j as e,E as j}from"./index-Dsm2NKI-.js";import{B as k}from"./building-2-Bwr8MEGv.js";import{T as N}from"./trash-2-BucIhIMf.js";import{S as w}from"./save-BDl75SRI.js";const A=()=>{const[r,o]=s.useState([]),[b,p]=s.useState(!0),[i,c]=s.useState(!1),[l,n]=s.useState({type:"",text:""}),[d,x]=s.useState("");s.useEffect(()=>{u()},[]);const u=async()=>{try{const t=localStorage.getItem("adminToken"),a=await g.get("https://founders-sangam.onrender.com/content/collaboration",{headers:{Authorization:`Bearer ${t}`}});if(a.data.success){const h=a.data.content||{companies:[]};o(h.companies||[])}}catch(t){console.error("Failed to fetch collaborations",t)}finally{p(!1)}},m=()=>{d.trim()&&(o([...r,d.trim()]),x(""))},f=t=>{const a=r.filter((h,v)=>v!==t);o(a)},y=async()=>{c(!0),n({type:"",text:""});try{const t=localStorage.getItem("adminToken");await g.post("https://founders-sangam.onrender.com/content/collaboration",{content:{companies:r}},{headers:{Authorization:`Bearer ${t}`}}),n({type:"success",text:"Changes saved successfully!"})}catch{n({type:"error",text:"Failed to save changes."})}finally{c(!1)}};return b?e.jsx("div",{className:"p-8 text-center",children:"Loading..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Collaborations"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage the list of companies displayed in the collaboration section."})]}),l.text&&e.jsx("div",{className:`p-4 rounded-xl ${l.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:l.text}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[2rem] p-8 shadow-sm border border-slate-100 dark:border-slate-800",children:[e.jsxs("div",{className:"flex gap-4 mb-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Enter Company Name",value:d,onChange:t=>x(t.target.value),onKeyDown:t=>t.key==="Enter"&&m(),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all"})}),e.jsxs("button",{onClick:m,className:"bg-slate-900 dark:bg-white text-white dark:text-slate-900 px-6 py-3 rounded-xl font-bold hover:bg-slate-800 dark:hover:bg-slate-200 transition-all flex items-center gap-2",children:[e.jsx(j,{size:20})," Add"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:r.length===0?e.jsx("div",{className:"col-span-full text-center py-12 text-slate-400 border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-2xl",children:"No companies added yet."}):r.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-white dark:bg-slate-700 flex items-center justify-center text-slate-400",children:e.jsx(k,{size:20})}),e.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:t})]}),e.jsx("button",{onClick:()=>f(a),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all opacity-0 group-hover:opacity-100",children:e.jsx(N,{size:18})})]},a))}),e.jsx("div",{className:"flex justify-end border-t border-slate-100 dark:border-slate-800 pt-6",children:e.jsx("button",{onClick:y,disabled:i,className:"bg-amber-500 text-white px-8 py-3 rounded-xl font-bold hover:bg-amber-600 transition-all flex items-center gap-2 shadow-lg shadow-amber-500/20 disabled:opacity-70 disabled:cursor-not-allowed",children:i?"Saving...":e.jsxs(e.Fragment,{children:[e.jsx(w,{size:20})," Save Changes"]})})})]})]})};export{A as default};
